webpackJsonp([24],{Cqm6:function(t,e){},o8Fa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("IHPB"),r=a.n(n),l=a("865i"),o=(a("pkma"),{name:"v-data",data:function(){return{tableData:[],currentPage:1,pageSize:10,total:0,pageFlag:!1,loading:!1,tableEmptyText:" ",queryText:""}},mounted:function(){var t=this;setTimeout(function(){t._getDriveData()},20)},methods:{_getDriveData:function(){var t=this,e={page:this.currentPage,page_size:this.pageSize,vehicle_number:this.queryText};this.loading=!0,Object(l.e)(e).then(function(e){t.pageFlag=!1,0==e.data.ret?(t.currentPage=e.data.datas.cur_page,t.pageSize=e.data.datas.page_size,t.total=e.data.datas.item_counts,t.tableData=[].concat(r()(e.data.datas.list))):t.$message({message:e.data.msg,type:"error"}),t.loading=!1,t.tableData.length||(t.tableEmptyText="暂无数据")})},onSearch:function(t){this.queryText=t,1==this.currentPage?this._getDriveData():this.currentPage=1},onSizeChange:function(t){this.pageSize=t,this._getDriveData()},onCurrentChange:function(t){this.pageFlag||(this.pageFlag=!0,this.currentPage=t,this._getDriveData())},onExport:function(){location.href="//iotsvr.he-live.com:8002/travel_data/export"},onEditClick:function(t){console.log(t)},onDetailClick:function(t){console.log(t.vehicle_number),this.$router.push({path:"record",query:{id:t.vehicle_number}})},formatMileAndOil:function(t,e,a){return(a/1e3).toFixed(2)},formatTime:function(t,e,a){return(a/60).toFixed(2)}},components:{searchBox:a("Rv3D").a}}),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"data main-panel"},[a("searchBox",{attrs:{exportBtn:!0},on:{onSearch:t.onSearch,onExport:t.onExport}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"数据加载中..."}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"empty-text":t.tableEmptyText,border:"",height:"531"}},[a("el-table-column",{attrs:{prop:"vehicle_number",label:"车牌",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tbox_id",label:"设备序列号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_mileage",formatter:t.formatMileAndOil,label:"总里程(公里)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_fuel",formatter:t.formatMileAndOil,label:"总油耗(L)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_fule",formatter:t.formatMileAndOil,label:"行驶油耗(L)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_mileage",formatter:t.formatMileAndOil,label:"行驶里程(公里)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_travel_time",formatter:t.formatTime,label:"总行程时间(分钟)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"最近行驶时间"}}),t._v(" "),a("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.onEditClick(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.onDetailClick(e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.onSizeChange,"current-change":t.onCurrentChange}})],1)],1)},staticRenderFns:[]};var s=a("Z0/y")(o,i,!1,function(t){a("Cqm6")},"data-v-31fa4129",null);e.default=s.exports}});
//# sourceMappingURL=24.cd8a9953fe92e45c5220.js.map