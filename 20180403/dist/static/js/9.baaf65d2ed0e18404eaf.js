webpackJsonp([9],{SYr1:function(e,t){},a3Yh:function(e,t,a){"use strict";t.__esModule=!0;var r,n=a("liLe"),o=(r=n)&&r.__esModule?r:{default:r};t.default=function(e,t,a){return t in e?(0,o.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},s7tJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),n=a.n(r),o=a("IHPB"),i=a.n(o),l=a("865i"),s=a("pkma"),c=a.n(s),u=a("Rv3D"),m={name:"record",data:function(){return{tableData:[],currentPage:1,pageSize:10,total:0,pageFlag:!1,loading:!1,tableEmptyText:" ",queryText:""}},mounted:function(){this.$route.query.id&&(this.queryText=this.$route.query.id),this._getDriveRecord()},methods:n()({_getDriveRecord:function(){var e=this,t={page:this.currentPage,page_size:this.pageSize,vehicle_number:this.queryText};this.loading=!0,Object(l.f)(t).then(function(t){e.pageFlag=!1,0==t.data.ret?(e.currentPage=t.data.datas.cur_page,e.pageSize=t.data.datas.page_size,e.total=t.data.datas.item_counts,e.tableData=[].concat(i()(t.data.datas.list))):e.$message({message:t.data.msg,type:"error"}),e.loading=!1,e.tableData.length||(e.tableEmptyText="暂无数据")})},onSearch:function(e){this.queryText=e,1==this.currentPage?this._getDriveRecord():this.currentPage=1},onSizeChange:function(e){this.pageSize=e,this._getDriveRecord()},onCurrentChange:function(e){this.pageFlag||(this.pageFlag=!0,this.currentPage=e,this._getDriveRecord())},onExport:function(){location.href="//iotsvr.he-live.com:8002/travel_record/export"},formatTime:function(e,t,a){return c.a.unix(a/1e3).format("YYYY-MM-DD HH:mm:ss")},onEditClick:function(e){console.log(e)},formatMileAndOil:function(e,t,a){return(a/1e3).toFixed(2)}},"formatTime",function(e,t,a){return(a/60).toFixed(2)}),components:{searchBox:u.a}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"record main-panel"},[a("searchBox",{attrs:{exportBtn:!0},on:{onSearch:e.onSearch,onExport:e.onExport}}),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"数据加载中..."}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":e.tableEmptyText,border:"",height:"532"}},[a("el-table-column",{attrs:{prop:"vehicle_number",label:"车牌号",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"millage",label:"公里数(km)",formatter:e.formatMileAndOil}}),e._v(" "),a("el-table-column",{attrs:{prop:"oil_consum",formatter:e.formatMileAndOil,label:"油耗(L)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ave_oil_consum",label:"平均油耗(百公里/L)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ave_speed",label:"平均速度(km/h)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"travel_time",formatter:e.formatTime,label:"行驶时间(分钟)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idle_time",formatter:e.formatTime,label:"怠速时间(分钟)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}})],1)],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.onSizeChange,"current-change":e.onCurrentChange}})],1)},staticRenderFns:[]};var p=a("Z0/y")(m,d,!1,function(e){a("SYr1")},"data-v-19b22a03",null);t.default=p.exports}});
//# sourceMappingURL=9.baaf65d2ed0e18404eaf.js.map