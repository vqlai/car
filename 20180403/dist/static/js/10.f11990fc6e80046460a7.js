webpackJsonp([10],{IrFb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Rv3D"),r=a("simw"),i={name:"warning",data:function(){return{tableData:[],currentPage:1,pageSize:10,total:0,pageFlag:!1,loading:!1,tableEmptyText:" ",queryText:""}},mounted:function(){var e=this;setTimeout(function(){e._getWarning()},20)},methods:{_getWarning:function(){var e=this,t={page:this.currentPage,page_size:this.pageSize,vehicle_number:this.queryText};this.loading=!0,Object(r.h)(t).then(function(t){e.pageFlag=!1,console.log(t),0==t.data.ret?(e.currentPage=t.data.datas.cur_page,e.pageSize=t.data.datas.page_size,e.total=t.data.datas.item_counts,e.tableData=t.data.datas.list):e.$message({message:t.data.msg,type:"error"}),e.loading=!1,e.tableData.length||(e.tableEmptyText="暂无数据")})},onSearch:function(e){this.queryText=e,1===this.currentPage?this._getWarning():this.currentPage=1},onSizeChange:function(e){this.pageSize=e,this._getWarning()},onCurrentChange:function(e){this.pageFlag||(this.pageFlag=!0,this.currentPage=e,this._getWarning())},formatType:function(e,t,a){switch(a){case 1:return"进入围栏报警";case 2:return"出去围栏报警";case 3:return"未知报警";default:return"-"}}},components:{searchBox:n.a}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"warning main-panel"},[a("searchBox",{on:{onSearch:e.onSearch}}),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"数据加载中..."}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":e.tableEmptyText,border:"",height:"532"}},[a("el-table-column",{attrs:{prop:"vehicle_number",label:"车牌号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fence_name",label:"围栏名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"action",formatter:e.formatType,label:"报警类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"monitored_status",label:"地理坐标"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{padding:"4px 0 5px"},domProps:{innerHTML:e._s(t.row.latitude.toFixed(4)+","+t.row.longitude.toFixed(4))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"报警时间"}})],1)],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.onSizeChange,"current-change":e.onCurrentChange}})],1)},staticRenderFns:[]};var s=a("Z0/y")(i,o,!1,function(e){a("LifJ")},"data-v-e17ed570",null);t.default=s.exports},LifJ:function(e,t){}});
//# sourceMappingURL=10.f11990fc6e80046460a7.js.map